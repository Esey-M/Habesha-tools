            try {
                // Send to backend
                const response = await fetch('/background-remover/process', {
                    method: 'POST',
                    body: formData
                });

                if (!response.ok) {
                    throw new Error('Failed to process image');
                }

                const data = await response.json();
                
                // Display results
                previewContainer.innerHTML = `
                    <div class="row">
                        <div class="col-md-6">
                            <h5>Original Image</h5>
                            <img src="${URL.createObjectURL(file)}" class="img-fluid rounded" alt="Original">
                        </div>
                        <div class="col-md-6">
                            <h5>Processed Image</h5>
                            <img src="/uploads/images/${data.processedImage}" class="img-fluid rounded" alt="Processed">
                            <div class="mt-3">
                                <a href="/uploads/images/${data.processedImage}" class="btn btn-primary" download>Download Processed Image</a>
                            </div>
                        </div>
                    </div>
                `;
            } catch (error) {
                console.error('Error processing image:', error);
            } 